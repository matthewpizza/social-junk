!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.SocialJunk=e()}(this,function(){function t(t){this.options=t||{},this.hasFacebookMarkup()&&this.loadFacebookLibrary(),this.hasGooglePlusMarkup()&&this.loadGooglePlusLibrary(),this.hasTwitterMarkup()&&this.loadTwitterLibrary()}return t.prototype.hasMarkup=function(t){for(var e=0;e<t.length;e++)if(0!==document.getElementsByClassName(t[e]).length)return!0;return!1},t.prototype.loadLibrary=function(t,e,o){if(o=o||function(){},null!==document.getElementById(e))return void o();var n=document.createElement("script");n.id=e,n.src=t,n.type="text/javascript",n.async="true",n.defer="true",n.addEventListener("load",o,!1);var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)},t.prototype.hasFacebookMarkup=function(){return this.hasMarkup(["fb-like","fb-share-button","fb-send","fb-post","fb-video","fb-comments","fb-page","fb-follow"])},t.prototype.loadFacebookLibrary=function(){this.createFacebookRootElement();var t="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3";this.options.facebookAppId&&(t+="&appId="+this.options.facebookAppId),this.loadLibrary(t,"facebook-jssdk",this.facebookEvents)},t.prototype.createFacebookRootElement=function(){if(null===document.getElementById("fb-root")){var t=document.createElement("div");t.id="fb-root",document.body.insertBefore(t,document.body.childNodes[0])}},t.prototype.facebookEvents=function(){var t=new Event("facebook:libraryLoaded"),e=new Event("facebook:loaded");document.dispatchEvent(t),FB.Event.subscribe("xfbml.render",function(){document.dispatchEvent(e)})},t.prototype.hasGooglePlusMarkup=function(){return this.hasMarkup(["g-interactivepost","g-plusone","g-person","g-post","g-follow","g-hangout"])},t.prototype.loadGooglePlusLibrary=function(){this.loadLibrary("https://apis.google.com/js/platform.js","googleplus-js",this.googlePlusEvents)},t.prototype.googlePlusEvents=function(){var t=new Event("googleplus:libraryLoaded");document.dispatchEvent(t)},t.prototype.hasTwitterMarkup=function(){return this.hasMarkup(["twitter-follow-button","twitter-share-button","twitter-hashtag-button","twitter-mention-button"])},t.prototype.loadTwitterLibrary=function(){this.createTwitterObject(),this.loadLibrary("https://platform.twitter.com/widgets.js","twitter-wjs",this.twitterEvents),this.bindTwttrEvents()},t.prototype.createTwitterObject=function(){window.twttr=window.twttr||{},window.twttr._e=[],window.twttr.ready=function(t){window.twttr._e.push(t)}},t.prototype.bindTwttrEvents=function(){window.twttr.ready(function(t){var e=new Event("twitter:loaded"),o=new Event("twitter:rendered");t.events.bind("loaded",function(t){e.loaded=t.widgets,document.dispatchEvent(e)}),t.events.bind("rendered",function(t){o.rendered=t.target,document.dispatchEvent(o)})})},t.prototype.twitterEvents=function(){var t=new Event("twitter:libraryLoaded");document.dispatchEvent(t)},t});